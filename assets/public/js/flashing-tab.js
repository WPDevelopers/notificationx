!function(){"use strict";function e(e){if(!window.crypto&&window.crypto.randomUUID)return crypto.randomUUID();for(var t=Date.now()+Math.random();e&&e[t];)t=Date.now()+Math.random();return t}var t,n,i,o,a,l,r,s,c,u=(n=function(e){var t,n="("+function(){for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!self.requestAnimationFrame;++t)self.requestAnimationFrame=self[e[t]+"RequestAnimationFrame"],self.cancelAnimationFrame=self[e[t]+"CancelAnimationFrame"]||self[e[t]+"CancelRequestAnimationFrame"];var n={},i={};self.addEventListener("message",(function(e){var t=e.data,o=t.id;if("RPC"===t.type&&null!==o)if("setInterval"==t.method){var a=t.params[0];n[a]=self.setInterval((function(){self.postMessage({type:"interval",id:a})}),t.params[1]),self.postMessage({type:"RPC",id:o,result:a})}else if("clearInterval"==t.method)self.clearInterval(n[t.params[0]]),delete n[t.params[0]];else if("setTimeout"==t.method){var l=t.params[0];i[l]=self.setTimeout((function(){self.postMessage({type:"timeout",id:l}),delete i[l]}),t.params[1]),self.postMessage({type:"RPC",id:o,result:l})}else"clearTimeout"==t.method&&(self.clearTimeout(i[t.params[0]]),delete i[t.params[0]])}))}.toString()+")()",i=window.URL||window.webkitURL;try{t=new Blob([n],{type:"application/javascript"})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(t=new BlobBuilder).append(n),t=t.getBlob()}return new Worker(i.createObjectURL(t))}(),i={},t=0,o=function(e,i){var o=++t;return new Promise((function(t){n.addEventListener("message",(function e(i){var a=i.data;a&&"RPC"===a.type&&a.id===o&&(t(a.result),n.removeEventListener("message",e))})),n.postMessage({type:"RPC",method:e,id:o,params:i})}))},n.addEventListener("message",(function(e){var t=e.data;t&&("interval"===t.type||"timeout"===t.type)&&i[t.id]&&i[t.id]()})),{set:function(t,n){var a=e(i);return i[a]=t,o("setInterval",[a,n]),a},clear:function(e){return delete i[e],o("clearInterval",[e])},setTimeout:function(t,n){var a=e(i);return i[a]=t,o("setTimeout",[a,n]),a},clearTimeout:function(e){return delete i[e],o("clearTimeout",[e])}}),d=[];var m,f,v,h,p,_,w,g,y,b,T={init:function e(t){if("complete"===document.readyState){c=Object.assign({size:16},t);for(var n=document.querySelectorAll('link[rel*="icon"]'),i=0;i<n.length;i++){var o=n[i].cloneNode(!0);d.push(o)}l||(l=document.createElement("canvas")),l.width=l.height=c.size,(a=l.getContext("2d")).lineCap="round",s=!0}else setTimeout(e.bind(this,t),100)},animatePng:function(e){if(s&&(function(){for(var e=document.querySelectorAll('link[rel*="icon"]'),t=0;t<e.length;t++)e[t]!==r&&e[t].remove()}(),r=document.querySelector('link[rel*="icon"]'),(r=document.querySelector('link[rel*="icon"]'))||((r=document.createElement("link")).setAttribute("rel","icon"),document.head.appendChild(r),n="No default icon found, restore state will not work",console&&console.warn?console.warn(n):setTimeout((function(){throw new Error(n)}),0)),e)){a.clearRect(0,0,c.size,c.size);var t=new Image;t.src=e,t.onload=function(){a.drawImage(t,0,0,c.size,c.size);var e,n=document.querySelector('link[rel*="icon"]');(e=n.cloneNode(!0)).setAttribute("href",a.canvas.toDataURL()),n.parentNode.replaceChild(e,n),r=e}}var n},stop:function(){if(r&&r.parentNode&&r.parentNode.removeChild(r),d.length)for(var e=0;e<d.length;e++)document.head.appendChild(d[e])},interval:u,version:"0.4.4"},C=window.nx_flashing_tab||{},k=1e3*(parseInt(C.ft_delay_before)||0),B=1e3*(parseInt(C.ft_delay_between)||1),I=1e3*(parseFloat(C.ft_display_for)||0)*60,R={message:"",icon:""},A={message:"",icon:""},S=C.nx_id,q=C.__rest_api_url;switch(C.themes){case"flashing_tab_theme-1":case"flashing_tab_theme-2":R.icon=null===(m=C.ft_theme_one_icons)||void 0===m?void 0:m["icon-one"],A.icon=null===(f=C.ft_theme_one_icons)||void 0===f?void 0:f["icon-two"],R.message=C.ft_theme_one_message;break;case"flashing_tab_theme-3":R=null!==(v=C.ft_theme_three_line_one)&&void 0!==v?v:R,A=null!==(h=C.ft_theme_three_line_two)&&void 0!==h?h:A;break;case"flashing_tab_theme-4":R=null!==(p=C.ft_theme_three_line_one)&&void 0!==p?p:R,A=(null===(_=C.ft_theme_four_line_two)||void 0===_?void 0:_["is-show-empty"])?null!==(b=null===(y=C.ft_theme_four_line_two)||void 0===y?void 0:y.alternative)&&void 0!==b?b:A:null!==(g=null===(w=C.ft_theme_four_line_two)||void 0===w?void 0:w.default)&&void 0!==g?g:A}T.init({size:32});var z=!1,L=null,P=null,E=null,M=window.document.title,U=function(e){e&&e!==document.title&&(document.title=e)},F=function(e){e&&T.animatePng(e)},N=function(){(z=!z)?(U(R.message),F(R.icon)):(U(A.message),F(A.icon))},j=function(){console.trace(),document.title=M,T.stop(),L&&(u.clear(L),L=null),P&&(u.clearTimeout(P),P=null),E&&(u.clearTimeout(E),E=null)};function D(e,t){var n={nx_id:e,type:t};fetch(q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){}))}window.addEventListener("visibilitychange",(function(e){"visible"!==document.visibilityState?(j(),P=u.setTimeout((function(){L=u.set(N,B),P=null,D(S,"views")}),k),I&&(E=u.setTimeout((function(){j()}),I))):(null==P&&D(S,"clicks"),j())}))}();